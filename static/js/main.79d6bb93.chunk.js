(this.webpackJsonpdemochatapp=this.webpackJsonpdemochatapp||[]).push([[0],{14:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(5),r=n.n(a),s=n(15),i=n.n(s),o=(n(14),n(12)),u=n.n(o),d=n(16),p=n(13),j=n(9),h=(n(29),n(26),n(17)),l=n(18);j.a.initializeApp({apiKey:"AIzaSyAkXy_UXnzNE-KhvKMY7Hlep4OI0fZS110",authDomain:"chatting-app-adadf.firebaseapp.com",projectId:"chatting-app-adadf",storageBucket:"chatting-app-adadf.appspot.com",messagingSenderId:"96389856958",appId:"1:96389856958:web:c115d819fbc542ee3ea8ef",measurementId:"G-QKYBRMQS01"});var b=j.a.auth(),m=j.a.firestore();function f(){return Object(c.jsx)("button",{onClick:function(){var e=new j.a.auth.GoogleAuthProvider;b.signInWithPopup(e).catch((function(e){return console.log("Error Occured",e)}))},children:" Sign In with Google "})}function g(){return Object(c.jsx)("button",{onClick:function(){return j.a.auth().signOut()},children:"Sign Out"})}function O(){var e=Object(a.useRef)(),t=m.collection("messages"),n=t.orderBy("createdAt"),r=Object(l.a)(n,{idField:"id"}),s=Object(p.a)(r,1)[0];console.log(s);var i=function(){var n=Object(d.a)(u.a.mark((function n(c){var a,r,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),a=b.currentUser,r=a.uid,s=a.photoURL,n.next=4,t.add({chat:document.getElementById("chatMessage").value,uid:r,photoURL:s,createdAt:j.a.firestore.FieldValue.serverTimestamp()});case 4:document.getElementById("chatMessage").value="",e.current.scrollIntoView({behaviour:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("main",{children:[s&&s.map((function(e){return Object(c.jsx)(v,{message:e})})),Object(c.jsx)("div",{ref:e})]}),Object(c.jsxs)("form",{onSubmit:i,children:[Object(c.jsx)("input",{required:!0,id:"chatMessage",type:"text"}),Object(c.jsx)("button",{type:"submit",children:"Send"})]})]})}function v(e){var t=e.message,n=t.chat,a=t.uid,r=t.photoURL;console.log(e.message);var s=a===b.currentUser.uid?"sent":"recieved";return Object(c.jsxs)("div",{className:"message ".concat(s),children:[Object(c.jsx)("img",{alt:"NA",src:r}),Object(c.jsx)("p",{children:n}),";"]})}var x=function(){var e=Object(h.a)(b),t=Object(p.a)(e,1)[0];return Object(c.jsx)("div",{className:"App",children:t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{}),Object(c.jsx)(O,{})," "]}):Object(c.jsx)(f,{})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.79d6bb93.chunk.js.map